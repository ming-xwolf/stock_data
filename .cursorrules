# Cursor 自定义规则

## 代码提交前清理规则

### 测试脚本清理
在提交代码之前，必须清理以下临时测试脚本：

1. **根目录下的临时测试脚本**：
   - 以 `test_` 开头的 Python 文件（如 `test_concept_*.py`, `test_em_api.py` 等）
   - 这些通常是开发过程中的临时测试文件，不应提交到版本库
   - 如果测试脚本需要保留，应移动到 `tests/` 目录并遵循项目的测试规范

2. **临时分析脚本**：
   - 根目录下的分析脚本（如 `analyze_*.py`, `compare_*.py` 等）
   - 这些通常是临时性的数据分析脚本，不应提交到主分支

### 文档清理
在提交代码之前，必须清理以下临时文档：

1. **临时测试报告**：
   - 以"测试报告"、"分析报告"、"质量分析报告"等命名的 Markdown 文件
   - 例如：`*测试报告.md`, `*质量分析报告.md`, `*对比报告.md`
   - 这些通常是开发过程中的临时文档，不应提交到版本库

2. **临时分析文档**：
   - 根目录下的临时分析文档（如 `stock_zyjs_ths_质量分析报告.md` 等）
   - 如果文档需要保留，应移动到 `docs/` 目录并遵循项目的文档规范

### 清理检查清单
在执行 `git commit` 之前，请检查：

- [ ] 是否删除了根目录下的临时测试脚本（`test_*.py`）
- [ ] 是否删除了根目录下的临时分析脚本（`analyze_*.py`, `compare_*.py`）
- [ ] 是否删除了临时测试报告文档（`*测试报告.md`, `*分析报告.md`）
- [ ] 是否删除了临时分析文档（根目录下的临时 `.md` 文件）
- [ ] 确认所有需要保留的测试文件已移动到 `tests/` 目录
- [ ] 确认所有需要保留的文档已移动到 `docs/` 目录

### 文件组织规范
- **测试文件**：应放在 `tests/` 目录下，遵循项目的测试规范
- **文档文件**：应放在 `docs/` 目录下，或作为项目文档的一部分
- **临时文件**：应在使用后立即删除，不要提交到版本库

### 执行建议
当用户准备提交代码时，AI 助手应该：
1. 检查 git status 中是否有临时测试脚本和文档
2. 提醒用户清理这些文件
3. 提供删除这些文件的建议命令
4. 确认清理完成后再进行提交

### 例外情况
以下文件可以保留：
- `README.md` 等正式项目文档
- `database/migrations/README.md` 等正式文档
- `src/README.md` 等模块文档
- 已纳入项目规范的测试文件（在 `tests/` 目录下）
